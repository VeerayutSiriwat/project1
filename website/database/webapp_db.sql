-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Aug 24, 2025 at 10:02 PM
-- Server version: 10.4.32-MariaDB
-- PHP Version: 8.2.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `webapp_db`
--

-- --------------------------------------------------------

--
-- Stand-in structure for view `cart`
-- (See below for the actual view)
--
CREATE TABLE `cart` (
`id` bigint(20) unsigned
,`user_id` bigint(20) unsigned
,`product_id` bigint(20) unsigned
,`quantity` int(11)
,`created_at` timestamp
);

-- --------------------------------------------------------

--
-- Table structure for table `cart_items`
--

CREATE TABLE `cart_items` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `user_id` bigint(20) UNSIGNED NOT NULL,
  `product_id` bigint(20) UNSIGNED NOT NULL,
  `quantity` int(11) NOT NULL DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `cart_items`
--

INSERT INTO `cart_items` (`id`, `user_id`, `product_id`, `quantity`, `created_at`) VALUES
(101, 4, 19, 1, '2025-08-24 19:24:05');

-- --------------------------------------------------------

--
-- Table structure for table `categories`
--

CREATE TABLE `categories` (
  `id` int(10) UNSIGNED NOT NULL,
  `name` varchar(100) NOT NULL,
  `slug` varchar(120) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `categories`
--

INSERT INTO `categories` (`id`, `name`, `slug`, `created_at`) VALUES
(1, 'เครื่องตัดหญ้า', 'brush-cutter', '2025-08-19 17:10:52'),
(2, 'อะไหล่ & อุปกรณ์เสริม', 'spare-parts', '2025-08-19 17:10:52');

-- --------------------------------------------------------

--
-- Table structure for table `notifications`
--

CREATE TABLE `notifications` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `user_id` bigint(20) UNSIGNED NOT NULL,
  `type` varchar(50) NOT NULL,
  `ref_id` bigint(20) UNSIGNED DEFAULT NULL,
  `title` varchar(255) NOT NULL,
  `message` text DEFAULT NULL,
  `is_read` tinyint(1) NOT NULL DEFAULT 0,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `notifications`
--

INSERT INTO `notifications` (`id`, `user_id`, `type`, `ref_id`, `title`, `message`, `is_read`, `created_at`) VALUES
(1, 4, 'order_status', 22, 'อัปเดตสถานะคำสั่งซื้อ', 'คำสั่งซื้อ #22: กำลังเตรียม/แพ็ค', 1, '2025-08-22 19:11:42'),
(2, 4, 'order_status', 22, 'อัปเดตสถานะคำสั่งซื้อ', 'คำสั่งซื้อ #22: ส่งออกจากคลัง', 1, '2025-08-22 19:11:54'),
(3, 4, 'payment_status', 22, 'อัปเดตการชำระเงิน', 'คำสั่งซื้อ #22 สถานะการชำระเงิน: รอตรวจสอบ', 1, '2025-08-22 19:18:45'),
(4, 4, 'payment_status', 22, 'อัปเดตการชำระเงิน', 'คำสั่งซื้อ #22 สถานะการชำระเงิน: ชำระแล้ว', 1, '2025-08-22 19:18:54'),
(5, 4, 'order_status', 22, 'อัปเดตสถานะคำสั่งซื้อ', 'คำสั่งซื้อ #22: เสร็จสิ้น', 1, '2025-08-22 19:31:00'),
(6, 4, 'review_reply', 19, 'ผู้ดูแลตอบกลับรีวิวของคุณ', 'สินค้า: EUROX เครื่องตัดหญ้าไร้สาย 21 โวลต์ รุ่นพับได้ R • คลิกเพื่อดูคำตอบ', 1, '2025-08-22 19:31:33'),
(7, 4, 'order_status', 23, 'อัปเดตสถานะคำสั่งซื้อ', 'คำสั่งซื้อ #23: ยกเลิก', 1, '2025-08-22 20:07:58'),
(8, 4, 'order_status', 23, 'อัปเดตสถานะคำสั่งซื้อ', 'คำสั่งซื้อ #23: ใหม่/กำลังตรวจสอบ', 1, '2025-08-22 20:09:56'),
(9, 4, 'order_status', 23, 'อัปเดตสถานะคำสั่งซื้อ', 'คำสั่งซื้อ #23: cancel_requested', 1, '2025-08-22 20:46:28'),
(10, 4, 'order_status', 23, 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 1, '2025-08-22 20:53:41'),
(11, 4, 'order_status', 23, 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 1, '2025-08-22 20:53:43'),
(12, 4, 'order_status', 23, 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 1, '2025-08-22 21:01:30'),
(13, 4, 'order_status', 23, 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 1, '2025-08-22 21:08:44'),
(14, 4, 'order_status', 23, 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 1, '2025-08-22 21:08:46'),
(15, 4, 'order_status', 23, 'คำสั่งซื้อ #23: ยกเลิก', 'คำสั่งซื้อ #23: ยกเลิก', 1, '2025-08-22 21:08:47'),
(16, 4, 'order_status', 23, 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 1, '2025-08-22 21:08:50'),
(17, 4, 'order_status', 23, 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 1, '2025-08-22 21:08:53'),
(18, 4, 'order_status', 23, 'คำสั่งซื้อ #23: ยกเลิก', 'คำสั่งซื้อ #23: ยกเลิก', 1, '2025-08-22 21:08:54'),
(19, 4, 'order_status', 23, 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 1, '2025-08-22 21:14:34'),
(20, 4, 'order_status', 23, 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 1, '2025-08-22 21:14:38'),
(21, 4, 'order_status', 23, 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 1, '2025-08-22 21:16:42'),
(22, 4, 'order_status', 23, 'คำสั่งซื้อ #23: กำลังเตรียม/แพ็ค', 'คำสั่งซื้อ #23: กำลังเตรียม/แพ็ค', 1, '2025-08-22 21:17:45'),
(23, 4, 'order_status', 23, 'คำสั่งซื้อ #23: ใหม่/กำลังตรวจสอบ', 'คำสั่งซื้อ #23: ใหม่/กำลังตรวจสอบ', 1, '2025-08-22 21:17:46'),
(24, 4, 'order_status', 23, 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 1, '2025-08-22 21:17:48'),
(25, 4, 'order_status', 23, 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 1, '2025-08-22 21:20:04'),
(26, 4, 'order_status', 23, 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 1, '2025-08-22 21:25:05'),
(27, 4, 'order_status', 23, 'คำขอยกเลิกได้รับการอนุมัติ', 'คำสั่งซื้อ #23 ถูกยกเลิกเรียบร้อย', 1, '2025-08-22 21:25:50'),
(28, 4, 'order_status', 23, 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 'คำสั่งซื้อ #23: รอยืนยันยกเลิก', 1, '2025-08-22 21:26:00'),
(29, 4, 'order_status', 23, 'คำขอยกเลิกได้รับการอนุมัติ', 'คำสั่งซื้อ #23 ถูกยกเลิกเรียบร้อย', 1, '2025-08-22 21:26:09'),
(30, 4, 'order_status', 24, 'คำขอยกเลิกได้รับการอนุมัติ', 'คำสั่งซื้อ #24 ถูกยกเลิกเรียบร้อย', 1, '2025-08-22 21:27:42'),
(31, 4, 'order_status', 24, 'คำสั่งซื้อ #24: ใหม่/กำลังตรวจสอบ', 'คำสั่งซื้อ #24: ใหม่/กำลังตรวจสอบ', 1, '2025-08-22 21:35:38'),
(32, 4, 'order_status', 24, 'คำขอยกเลิกถูกปฏิเสธ', 'คำสั่งซื้อ #24 ยังดำเนินการต่อ', 1, '2025-08-22 21:38:57'),
(33, 4, 'order_status', 24, 'คำขอยกเลิกได้รับการอนุมัติ', 'คำสั่งซื้อ #24 ถูกยกเลิกเรียบร้อย', 1, '2025-08-22 21:46:45'),
(34, 4, 'order_status', 25, 'คำขอยกเลิกได้รับการอนุมัติ', 'คำสั่งซื้อ #25 ถูกยกเลิกเรียบร้อย', 1, '2025-08-22 21:47:41'),
(35, 4, 'order_status', 26, 'คำสั่งซื้อ #26: กำลังเตรียม/แพ็ค', 'คำสั่งซื้อ #26: กำลังเตรียม/แพ็ค', 1, '2025-08-22 21:57:08'),
(36, 4, 'order_status', 26, 'คำสั่งซื้อ #26: ส่งออกจากคลัง', 'คำสั่งซื้อ #26: ส่งออกจากคลัง', 1, '2025-08-22 21:57:22'),
(37, 4, 'order_status', 26, 'คำสั่งซื้อ #26: ถึงปลายทาง', 'คำสั่งซื้อ #26: ถึงปลายทาง', 1, '2025-08-22 21:57:32'),
(38, 4, 'order_status', 26, 'คำสั่งซื้อ #26: เสร็จสิ้น', 'คำสั่งซื้อ #26: เสร็จสิ้น', 1, '2025-08-22 21:58:10'),
(39, 4, 'order_status', 26, 'คำสั่งซื้อ #26: ยกเลิก', 'คำสั่งซื้อ #26: ยกเลิก', 1, '2025-08-22 21:58:22'),
(40, 3, 'cancel_request', 27, 'มีคำขอยกเลิกใหม่', 'คำสั่งซื้อ #27 จากผู้ใช้ user', 1, '2025-08-23 07:38:07'),
(41, 4, 'order_status', 27, 'คำขอยกเลิกได้รับการอนุมัติ', 'คำสั่งซื้อ #27 ถูกยกเลิกเรียบร้อย', 1, '2025-08-23 07:38:24'),
(42, 3, 'new_order_cod', 28, 'ออเดอร์ใหม่ (ปลายทาง)', 'คำสั่งซื้อ #28 จาก user', 1, '2025-08-23 08:03:15'),
(43, 4, 'order_status', 28, 'สั่งซื้อสำเร็จ', 'คำสั่งซื้อ #28 ชำระแบบเก็บเงินปลายทาง', 1, '2025-08-23 08:03:15'),
(44, 3, 'new_order_bank', 29, 'ออเดอร์ใหม่ (โอนธนาคาร)', 'คำสั่งซื้อ #29 จาก user • รอตรวจสลิป', 1, '2025-08-23 08:03:33'),
(45, 4, 'payment_status', 29, 'สั่งซื้อสำเร็จ - กรุณาโอนเงิน', 'คำสั่งซื้อ #29 ภายใน 23/08/2025 15:18 และอัปโหลดสลิปในหน้า ‘คำสั่งซื้อของฉัน’', 1, '2025-08-23 08:03:33'),
(46, 4, 'order_status', 29, 'คำสั่งซื้อ #29: ยกเลิก', 'คำสั่งซื้อ #29: ยกเลิก', 1, '2025-08-23 08:04:16'),
(47, 4, 'order_status', 28, 'คำสั่งซื้อ #28: ยกเลิก', 'คำสั่งซื้อ #28: ยกเลิก', 1, '2025-08-23 08:04:18'),
(48, 3, 'new_order_bank', 30, 'ออเดอร์ใหม่ (โอนธนาคาร)', 'คำสั่งซื้อ #30 จาก user • รอตรวจสลิป', 1, '2025-08-23 08:09:33'),
(49, 4, 'payment_status', 30, 'สั่งซื้อสำเร็จ - กรุณาโอนเงิน', 'คำสั่งซื้อ #30 ภายใน 23/08/2025 15:24 และอัปโหลดสลิปในหน้า ‘คำสั่งซื้อของฉัน’', 1, '2025-08-23 08:09:33'),
(50, 4, 'order_status', 30, 'คำสั่งซื้อ #30: ยกเลิก', 'คำสั่งซื้อ #30: ยกเลิก', 1, '2025-08-23 08:10:28'),
(51, 4, 'payment_status', 30, 'อัปเดตการชำระเงิน', 'คำสั่งซื้อ #30 สถานะการชำระเงิน: ยังไม่ชำระ', 1, '2025-08-23 08:10:32'),
(52, 3, 'new_order_bank', 31, 'ออเดอร์ใหม่ (โอนธนาคาร)', 'คำสั่งซื้อ #31 จาก user • รอตรวจสลิป', 1, '2025-08-23 08:10:43'),
(53, 4, 'payment_status', 31, 'สั่งซื้อสำเร็จ - กรุณาโอนเงิน', 'คำสั่งซื้อ #31 ภายใน 23/08/2025 15:25 และอัปโหลดสลิปในหน้า ‘คำสั่งซื้อของฉัน’', 1, '2025-08-23 08:10:43'),
(54, 4, 'order_status', 31, 'คำสั่งซื้อ #31: ยกเลิก', 'คำสั่งซื้อ #31: ยกเลิก', 1, '2025-08-23 08:18:45'),
(55, 4, 'payment_status', 31, 'อัปเดตการชำระเงิน', 'คำสั่งซื้อ #31 สถานะการชำระเงิน: ยังไม่ชำระ', 1, '2025-08-23 08:18:47'),
(56, 3, 'new_order_bank', 32, 'ออเดอร์ใหม่ (โอนธนาคาร)', 'คำสั่งซื้อ #32 จาก user • รอตรวจสลิป', 1, '2025-08-23 08:19:59'),
(57, 4, 'payment_status', 32, 'สั่งซื้อสำเร็จ - กรุณาโอนเงิน', 'คำสั่งซื้อ #32 ภายใน 23/08/2025 15:34 และอัปโหลดสลิปในหน้า ‘คำสั่งซื้อของฉัน’', 1, '2025-08-23 08:19:59'),
(58, 3, 'slip_uploaded', 32, 'มีสลิปใหม่รอตรวจสอบ', 'คำสั่งซื้อ #32 จากผู้ใช้ UID 4', 1, '2025-08-23 08:20:08'),
(59, 4, 'payment_status', 32, 'รับสลิปแล้ว - รอตรวจสอบ', 'คำสั่งซื้อ #32 กำลังรอตรวจสอบสลิป', 1, '2025-08-23 08:20:08'),
(60, 3, 'cancel_request', 32, 'มีคำขอยกเลิกใหม่', 'คำสั่งซื้อ #32 จากผู้ใช้ user', 1, '2025-08-23 08:21:45'),
(61, 4, 'order_status', 32, 'คำขอยกเลิกถูกปฏิเสธ', 'คำสั่งซื้อ #32 ยังดำเนินการต่อ • เหตุผล: ขอเลข บช ในการชำระคืนด้วยครับ', 1, '2025-08-23 08:23:21'),
(62, 4, 'payment_status', 32, 'อัปเดตการชำระเงิน', 'คำสั่งซื้อ #32 สถานะการชำระเงิน: หมดเวลาชำระ', 1, '2025-08-23 08:23:41'),
(63, 4, 'order_status', 32, 'คำสั่งซื้อ #32: ยกเลิก', 'คำสั่งซื้อ #32: ยกเลิก', 1, '2025-08-23 08:23:46'),
(64, 4, 'payment_status', 32, 'อัปเดตการชำระเงิน', 'คำสั่งซื้อ #32 สถานะการชำระเงิน: รอตรวจสอบ', 1, '2025-08-23 08:23:48'),
(65, 4, 'payment_status', 32, 'อัปเดตการชำระเงิน', 'คำสั่งซื้อ #32 สถานะการชำระเงิน: ยังไม่ชำระ', 1, '2025-08-23 08:23:49'),
(66, 3, 'new_order_bank', 33, 'ออเดอร์ใหม่ (โอนธนาคาร)', 'คำสั่งซื้อ #33 จาก user • รอตรวจสลิป', 1, '2025-08-23 08:24:29'),
(67, 4, 'payment_status', 33, 'สั่งซื้อสำเร็จ - กรุณาโอนเงิน', 'คำสั่งซื้อ #33 ภายใน 23/08/2025 15:39 และอัปโหลดสลิปในหน้า ‘คำสั่งซื้อของฉัน’', 1, '2025-08-23 08:24:29'),
(68, 4, 'payment_status', 33, 'หมดเวลาชำระเงิน', 'คำสั่งซื้อ #33 หมดเวลาชำระแล้ว', 1, '2025-08-23 08:42:19'),
(69, 3, 'order_expired', 33, 'ออเดอร์หมดเวลาชำระ', 'คำสั่งซื้อ #33 หมดเวลา (โอนธนาคาร)', 1, '2025-08-23 08:42:19'),
(70, 3, 'new_order_cod', 34, 'ออเดอร์ใหม่ (ปลายทาง)', 'คำสั่งซื้อ #34 จาก user', 1, '2025-08-23 08:51:19'),
(71, 4, 'order_status', 34, 'สั่งซื้อสำเร็จ', 'คำสั่งซื้อ #34 ชำระแบบเก็บเงินปลายทาง', 1, '2025-08-23 08:51:19'),
(72, 3, 'new_order_bank', 35, 'ออเดอร์ใหม่ (โอนธนาคาร)', 'คำสั่งซื้อ #35 จาก user • รอตรวจสลิป', 1, '2025-08-23 08:51:29'),
(73, 4, 'payment_status', 35, 'สั่งซื้อสำเร็จ - กรุณาโอนเงิน', 'คำสั่งซื้อ #35 ภายใน 23/08/2025 16:06 และอัปโหลดสลิปในหน้า ‘คำสั่งซื้อของฉัน’', 1, '2025-08-23 08:51:29'),
(74, 4, 'order_status', 33, 'คำสั่งซื้อ #33: ยกเลิก', 'คำสั่งซื้อ #33: ยกเลิก', 1, '2025-08-23 08:53:27'),
(75, 4, 'payment_status', 33, 'อัปเดตการชำระเงิน', 'คำสั่งซื้อ #33 สถานะการชำระเงิน: หมดเวลาชำระ', 1, '2025-08-23 08:53:29'),
(76, 4, 'payment_status', 33, 'อัปเดตการชำระเงิน', 'คำสั่งซื้อ #33 สถานะการชำระเงิน: หมดเวลาชำระ', 1, '2025-08-23 08:53:34'),
(77, 4, 'payment_status', 33, 'อัปเดตการชำระเงิน', 'คำสั่งซื้อ #33 สถานะการชำระเงิน: หมดเวลาชำระ', 1, '2025-08-23 08:57:02'),
(78, 4, 'payment_status', 33, 'อัปเดตการชำระเงิน', 'คำสั่งซื้อ #33 สถานะการชำระเงิน: รอตรวจสอบ', 1, '2025-08-23 08:57:04'),
(79, 4, 'payment_status', 33, 'อัปเดตการชำระเงิน', 'คำสั่งซื้อ #33 สถานะการชำระเงิน: ยังไม่ชำระ', 1, '2025-08-23 08:57:05'),
(80, 4, 'payment_status', 35, 'หมดเวลาชำระเงิน', 'คำสั่งซื้อ #35 หมดเวลาชำระแล้ว', 1, '2025-08-23 09:06:29'),
(81, 3, 'order_expired', 35, 'ออเดอร์หมดเวลาชำระ', 'คำสั่งซื้อ #35 หมดเวลา (โอนธนาคาร)', 1, '2025-08-23 09:06:29'),
(82, 4, 'payment_status', 35, 'อัปเดตการชำระเงิน', 'คำสั่งซื้อ #35 สถานะการชำระเงิน: หมดเวลาชำระ', 1, '2025-08-23 09:20:05'),
(83, 4, 'order_status', 35, 'คำสั่งซื้อ #35: ยกเลิก', 'คำสั่งซื้อ #35: ยกเลิก', 1, '2025-08-23 09:20:09'),
(84, 3, 'new_order_bank', 36, 'ออเดอร์ใหม่ (โอนธนาคาร)', 'คำสั่งซื้อ #36 จาก user • รอชำระเงิน ภายใน 23/08/2025 16:35', 1, '2025-08-23 09:20:23'),
(85, 4, 'payment_status', 36, 'สั่งซื้อสำเร็จ - กรุณาโอนเงิน', 'คำสั่งซื้อ #36 ภายใน 23/08/2025 16:35 และอัปโหลดสลิปในหน้า ‘คำสั่งซื้อของฉัน’', 1, '2025-08-23 09:20:23'),
(86, 4, 'payment_status', 36, 'หมดเวลาชำระเงิน', 'คำสั่งซื้อ #36 หมดเวลาชำระแล้ว', 1, '2025-08-23 09:35:49'),
(87, 3, 'order_expired', 36, 'ออเดอร์หมดเวลาชำระ', 'คำสั่งซื้อ #36 หมดเวลา (โอนธนาคาร)', 1, '2025-08-23 09:35:49'),
(88, 4, 'order_status', 36, 'คำสั่งซื้อ #36: ยกเลิก', 'คำสั่งซื้อ #36: ยกเลิก', 1, '2025-08-23 09:45:10'),
(89, 4, 'payment_status', 36, 'อัปเดตการชำระเงิน', 'คำสั่งซื้อ #36 สถานะการชำระเงิน: หมดเวลาชำระ', 1, '2025-08-23 09:45:12'),
(90, 3, 'new_order_bank', 37, 'ออเดอร์ใหม่ (โอนธนาคาร)', 'คำสั่งซื้อ #37 จาก user • รอชำระเงิน ภายใน 23/08/2025 17:00', 1, '2025-08-23 09:45:41'),
(91, 4, 'payment_status', 37, 'สั่งซื้อสำเร็จ - กรุณาโอนเงิน', 'คำสั่งซื้อ #37 ภายใน 23/08/2025 17:00 และอัปโหลดสลิปในหน้า ‘คำสั่งซื้อของฉัน’', 1, '2025-08-23 09:45:41'),
(92, 4, 'order_status', 34, 'คำสั่งซื้อ #34: ยกเลิก', 'คำสั่งซื้อ #34: ยกเลิก', 1, '2025-08-23 09:45:48'),
(93, 4, 'payment_status', 37, 'หมดเวลาชำระเงิน', 'คำสั่งซื้อ #37 หมดเวลาชำระแล้ว', 1, '2025-08-23 10:02:50'),
(94, 3, 'order_expired', 37, 'ออเดอร์หมดเวลาชำระ', 'คำสั่งซื้อ #37 หมดเวลา (โอนธนาคาร)', 1, '2025-08-23 10:02:50'),
(95, 4, 'order_status', 37, 'คำสั่งซื้อ #37: ยกเลิก', 'คำสั่งซื้อ #37: ยกเลิก', 1, '2025-08-23 10:03:00'),
(96, 3, 'support_msg', 1, 'มีข้อความใหม่จากลูกค้า', 'UID 4: สวัสดีครับ', 1, '2025-08-23 10:55:55'),
(97, 4, 'support_msg', 2, 'แอดมินตอบกลับข้อความ', 'ครับ', 1, '2025-08-23 10:59:29'),
(98, 4, 'support_msg', 3, 'แอดมินตอบกลับข้อความ', 'สวัสดีครับ', 1, '2025-08-23 11:03:16'),
(99, 3, 'support_msg', 4, 'มีข้อความใหม่จากลูกค้า', 'UID 5: สวัสดีครับ', 1, '2025-08-23 11:06:07'),
(100, 3, 'support_msg', 5, 'มีข้อความใหม่จากลูกค้า', 'UID 5: อิดครับ', 1, '2025-08-23 11:06:45'),
(101, 4, 'payment_status', 32, 'อัปเดตการชำระเงิน', 'คำสั่งซื้อ #32 สถานะการชำระเงิน: รอตรวจสอบ', 1, '2025-08-23 11:26:09'),
(102, 4, 'payment_status', 32, 'อัปเดตการชำระเงิน', 'คำสั่งซื้อ #32 สถานะการชำระเงิน: ยังไม่ชำระ', 1, '2025-08-23 11:26:10'),
(103, 3, 'support_msg', 6, 'มีข้อความใหม่จากลูกค้า', 'UID 5: แอดมินครับ', 0, '2025-08-23 12:04:14'),
(104, 5, 'support_msg', 7, 'แอดมินตอบกลับข้อความ', 'ครับผม', 1, '2025-08-23 12:04:34'),
(105, 4, 'support_end', 0, 'สิ้นสุดการแชท', 'คุณได้สิ้นสุดการสนทนาแล้ว สามารถเริ่มใหม่ได้ทุกเมื่อ', 1, '2025-08-24 18:49:50'),
(106, 3, 'support_msg', 8, 'มีข้อความใหม่จากลูกค้า', 'UID 4: สวัสดีครับ', 0, '2025-08-24 18:51:53'),
(107, 4, 'support_msg', 9, 'แอดมินตอบกลับข้อความ', 'ครับ', 1, '2025-08-24 18:52:08'),
(108, 4, 'support_end', 0, 'สิ้นสุดการแชท', 'แอดมินได้สิ้นสุดการสนทนาแล้ว คุณสามารถเริ่มแชทใหม่ได้ทุกเมื่อ', 1, '2025-08-24 19:04:01'),
(109, 5, 'support_end', 0, 'สิ้นสุดการแชท', 'แอดมินได้สิ้นสุดการสนทนาแล้ว คุณสามารถเริ่มแชทใหม่ได้ทุกเมื่อ', 0, '2025-08-24 19:04:17'),
(110, 3, 'support_msg', 10, 'มีข้อความใหม่จากลูกค้า', 'UID 4: สวัสดีครับ', 0, '2025-08-24 19:06:04'),
(111, 4, 'support_msg', 11, 'แอดมินตอบกลับข้อความ', 'ครับผม', 1, '2025-08-24 19:15:06'),
(112, 4, 'support_end', 0, 'สิ้นสุดการแชท', 'คุณได้สิ้นสุดการสนทนาแล้ว สามารถเริ่มใหม่ได้ทุกเมื่อ', 1, '2025-08-24 19:15:17'),
(113, 3, 'new_order_cod', 38, 'ออเดอร์ใหม่ (ปลายทาง)', 'คำสั่งซื้อ #38 จาก user', 0, '2025-08-24 19:24:11'),
(114, 4, 'order_status', 38, 'สั่งซื้อสำเร็จ', 'คำสั่งซื้อ #38 ชำระแบบเก็บเงินปลายทาง', 0, '2025-08-24 19:24:11'),
(115, 4, 'order_status', 38, 'คำสั่งซื้อ #38: ยกเลิก', 'คำสั่งซื้อ #38: ยกเลิก', 0, '2025-08-24 19:24:22'),
(116, 3, 'new_order_bank', 39, 'ออเดอร์ใหม่ (โอนธนาคาร)', 'คำสั่งซื้อ #39 จาก user • รอชำระเงิน ภายใน 25/08/2025 02:39', 0, '2025-08-24 19:24:43'),
(117, 4, 'payment_status', 39, 'สั่งซื้อสำเร็จ - กรุณาโอนเงิน', 'คำสั่งซื้อ #39 ภายใน 25/08/2025 02:39 และอัปโหลดสลิปในหน้า ‘คำสั่งซื้อของฉัน’', 0, '2025-08-24 19:24:43'),
(118, 3, 'support_msg', 12, 'มีข้อความใหม่จากลูกค้า', 'UID 4: สวัสดีครับ', 0, '2025-08-24 19:25:02'),
(119, 4, 'support_msg', 13, 'แอดมินตอบกลับข้อความ', 'ควยไร', 0, '2025-08-24 19:25:22'),
(120, 4, 'support_end', 0, 'สิ้นสุดการแชท', 'คุณได้สิ้นสุดการสนทนาแล้ว สามารถเริ่มใหม่ได้ทุกเมื่อ', 0, '2025-08-24 19:25:33');

-- --------------------------------------------------------

--
-- Table structure for table `orders`
--

CREATE TABLE `orders` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `user_id` bigint(20) UNSIGNED NOT NULL,
  `total_price` decimal(10,2) NOT NULL DEFAULT 0.00,
  `status` enum('pending','processing','shipped','delivered','completed','cancel_requested','cancelled') NOT NULL DEFAULT 'pending',
  `payment_status` enum('unpaid','pending','paid','refunded') NOT NULL DEFAULT 'unpaid',
  `stock_deducted` tinyint(1) NOT NULL DEFAULT 0,
  `shipping_name` varchar(150) DEFAULT NULL,
  `shipping_phone` varchar(30) DEFAULT NULL,
  `shipping_address` text DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `expires_at` datetime DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL ON UPDATE current_timestamp(),
  `payment_method` enum('cod','bank') DEFAULT 'cod',
  `slip_image` varchar(255) DEFAULT NULL,
  `cancel_reason` text DEFAULT NULL,
  `cancel_requested_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `orders`
--

INSERT INTO `orders` (`id`, `user_id`, `total_price`, `status`, `payment_status`, `stock_deducted`, `shipping_name`, `shipping_phone`, `shipping_address`, `created_at`, `expires_at`, `updated_at`, `payment_method`, `slip_image`, `cancel_reason`, `cancel_requested_at`) VALUES
(1, 4, 8790.00, 'cancelled', 'unpaid', 0, 'ๅ', 'ๅ', 'ๅ', '2025-08-19 21:16:21', '2025-08-20 04:31:21', '2025-08-22 08:29:07', 'cod', NULL, NULL, NULL),
(2, 4, 8790.00, 'cancelled', 'unpaid', 0, '/', '/', '/', '2025-08-19 21:17:23', '2025-08-20 04:32:23', '2025-08-22 08:29:07', 'cod', NULL, NULL, NULL),
(3, 4, 8790.00, 'cancelled', 'unpaid', 0, 'ๅ', 'ๅ', 'ๅ', '2025-08-19 21:22:21', '2025-08-20 04:37:21', '2025-08-22 08:29:07', 'bank', 'slip_3_1755638680.png', NULL, NULL),
(4, 4, 8790.00, 'cancelled', 'unpaid', 0, 'ๅ', 'ๅ', 'ๅ', '2025-08-19 21:28:34', '2025-08-20 04:43:34', '2025-08-22 08:29:07', 'bank', 'slip_4_1755638933_63dd4663.png', NULL, NULL),
(5, 4, 8790.00, 'cancelled', 'unpaid', 0, '1', '1', '1', '2025-08-20 17:07:37', '2025-08-21 00:22:37', '2025-08-22 08:29:07', 'cod', NULL, NULL, NULL),
(6, 4, 8790.00, 'cancelled', 'unpaid', 0, '1', '1', 'ๅ', '2025-08-20 17:30:36', '2025-08-21 00:45:36', '2025-08-22 08:29:07', 'cod', NULL, NULL, NULL),
(7, 4, 8790.00, 'cancelled', 'unpaid', 0, '1', '1', 'ๅ', '2025-08-20 17:31:10', '2025-08-21 00:46:10', '2025-08-22 08:29:07', 'bank', 'slip_7_1755711081_04c2b347.png', NULL, NULL),
(8, 4, 8790.00, 'cancelled', '', 0, '1', '1', '1', '2025-08-22 03:00:52', '2025-08-22 10:15:52', '2025-08-22 08:29:07', 'bank', NULL, NULL, NULL),
(9, 4, 626.00, 'cancelled', '', 0, '1', '1', '1', '2025-08-22 08:22:31', '2025-08-22 15:37:31', '2025-08-22 08:40:13', 'bank', NULL, NULL, NULL),
(10, 4, 626.00, 'cancelled', '', 0, '1', '1', '1', '2025-08-22 08:44:42', '2025-08-22 15:59:42', '2025-08-22 09:33:20', 'bank', NULL, NULL, NULL),
(11, 4, 8790.00, 'cancelled', 'unpaid', 0, '1', '1', '1', '2025-08-22 08:45:25', '2025-08-22 16:00:25', '2025-08-22 09:33:10', 'cod', NULL, NULL, NULL),
(12, 4, 626.00, 'cancelled', 'unpaid', 0, 'ๅ', 'ๅ', 'ๅ', '2025-08-22 09:05:20', NULL, '2025-08-22 09:33:07', 'cod', NULL, NULL, NULL),
(13, 4, 8790.00, 'cancelled', '', 0, '1', '1', '1', '2025-08-22 09:05:31', '2025-08-22 16:20:31', '2025-08-22 09:41:46', 'bank', NULL, NULL, NULL),
(14, 4, 626.00, 'cancelled', 'unpaid', 0, '1', '1', '1', '2025-08-22 09:20:55', '2025-08-22 16:35:55', '2025-08-22 09:48:45', 'bank', 'slip_14_1755855123_9d05f315.png', NULL, NULL),
(15, 4, 8790.00, 'cancelled', 'unpaid', 0, '1', 'ๅ', 'ๅ', '2025-08-22 09:34:26', NULL, '2025-08-22 09:41:18', 'cod', NULL, NULL, NULL),
(16, 4, 8790.00, 'cancelled', 'unpaid', 0, 'ๅ', 'ๅ', 'ๅ', '2025-08-22 09:40:54', NULL, '2025-08-22 09:41:20', 'cod', NULL, NULL, NULL),
(17, 4, 8790.00, 'cancelled', 'unpaid', 0, '1', '1', '1', '2025-08-22 09:42:29', '2025-08-22 16:57:29', '2025-08-22 09:48:43', 'bank', 'slip_17_1755855755_114e12f4.png', NULL, NULL),
(18, 4, 8790.00, 'cancelled', 'unpaid', 0, 'ๅ', 'ๅ', 'ๅ', '2025-08-22 09:48:07', '2025-08-22 17:03:07', '2025-08-22 09:48:43', 'bank', 'slip_18_1755856092_29641cdc.png', NULL, NULL),
(19, 4, 1860.00, 'cancelled', 'unpaid', 0, '1', '1', '1', '2025-08-22 12:45:38', '2025-08-22 20:00:38', '2025-08-22 12:46:27', 'bank', 'slip_19_1755866758_954fed5a.png', NULL, NULL),
(20, 4, 1860.00, 'cancelled', 'unpaid', 0, 'วีรยุทธ ศิริวัฒนานุกูล', '0934944932', '', '2025-08-22 13:05:27', NULL, '2025-08-22 13:05:41', 'cod', NULL, NULL, NULL),
(21, 4, 1860.00, 'cancelled', 'unpaid', 0, 'วีรยุทธ ศิริวัฒนานุกูล', '0934944932', 'บ้าน, บางแค, กรุงเทพมหานคร, 10160', '2025-08-22 13:07:48', NULL, '2025-08-22 13:08:06', 'cod', NULL, NULL, NULL),
(22, 4, 1860.00, 'completed', 'paid', 1, 'วีรยุทธ ศิริวัฒนานุกูล', '0934944932', 'บ้าน, บางแค, กรุงเทพมหานคร, 10160', '2025-08-22 17:14:06', NULL, '2025-08-22 19:31:00', 'cod', NULL, NULL, NULL),
(23, 4, 8495.00, 'cancelled', 'unpaid', 0, 'วีรยุทธ ศิริวัฒนานุกูล', '0934944932', 'บ้าน, บางแค, กรุงเทพมหานคร, 10160', '2025-08-22 20:07:35', NULL, '2025-08-22 21:26:09', 'cod', NULL, '11', '2025-08-22 20:44:34'),
(24, 4, 8495.00, 'cancelled', 'unpaid', 0, 'วีรยุทธ ศิริวัฒนานุกูล', '0934944932', 'บ้าน, บางแค, กรุงเทพมหานคร, 10160', '2025-08-22 21:27:15', NULL, '2025-08-22 21:46:45', 'cod', NULL, 'กดผิด', '2025-08-22 21:44:17'),
(25, 4, 1860.00, 'cancelled', 'unpaid', 0, 'วีรยุทธ ศิริวัฒนานุกูล', '0934944932', 'บ้าน, บางแค, กรุงเทพมหานคร, 10160', '2025-08-22 21:47:02', NULL, '2025-08-22 21:47:41', 'cod', NULL, 'กดผิด', '2025-08-22 21:47:25'),
(26, 4, 3900.00, 'cancelled', 'unpaid', 0, 'วีรยุทธ ศิริวัฒนานุกูล', '0934944932', 'บ้าน, บางแค, กรุงเทพมหานคร, 10160', '2025-08-22 21:56:55', NULL, '2025-08-22 21:58:22', 'cod', NULL, NULL, NULL),
(28, 4, 1860.00, 'cancelled', 'unpaid', 0, 'วีรยุทธ ศิริวัฒนานุกูล', '0934944932', 'บ้าน, บางแค, กรุงเทพมหานคร, 10160', '2025-08-23 08:03:15', NULL, '2025-08-23 08:04:18', 'cod', NULL, NULL, NULL),
(30, 4, 1860.00, 'cancelled', 'unpaid', 0, 'วีรยุทธ ศิริวัฒนานุกูล', '0934944932', 'บ้าน, บางแค, กรุงเทพมหานคร, 10160', '2025-08-23 08:09:33', '2025-08-23 15:24:33', '2025-08-23 08:10:32', 'bank', 'slip_30_1755936601_62fbac9d.png', NULL, NULL),
(31, 4, 1860.00, 'cancelled', 'unpaid', 0, 'วีรยุทธ ศิริวัฒนานุกูล', '0934944932', 'บ้าน, บางแค, กรุงเทพมหานคร, 10160', '2025-08-23 08:10:43', '2025-08-23 15:25:43', '2025-08-23 08:18:47', 'bank', 'slip_31_1755936658_bd3e4d82.png', NULL, NULL),
(33, 4, 6995.00, 'cancelled', 'unpaid', 0, 'วีรยุทธ ศิริวัฒนานุกูล', '0934944932', 'บ้าน, บางแค, กรุงเทพมหานคร, 10160', '2025-08-23 08:24:29', '2025-08-23 15:39:29', '2025-08-23 08:57:05', 'bank', NULL, NULL, NULL),
(34, 4, 1860.00, 'cancelled', 'unpaid', 0, 'วีรยุทธ ศิริวัฒนานุกูล', '0934944932', 'บ้าน, บางแค, กรุงเทพมหานคร, 10160', '2025-08-23 08:51:19', NULL, '2025-08-23 09:45:48', 'cod', NULL, NULL, NULL),
(35, 4, 1860.00, 'cancelled', '', 0, 'วีรยุทธ ศิริวัฒนานุกูล', '0934944932', 'บ้าน, บางแค, กรุงเทพมหานคร, 10160', '2025-08-23 08:51:29', '2025-08-23 16:06:29', '2025-08-23 09:20:09', 'bank', NULL, NULL, NULL),
(36, 4, 1860.00, 'cancelled', '', 0, 'วีรยุทธ ศิริวัฒนานุกูล', '0934944932', 'บ้าน, บางแค, กรุงเทพมหานคร, 10160', '2025-08-23 09:20:23', '2025-08-23 16:35:23', '2025-08-23 09:45:10', 'bank', NULL, NULL, NULL),
(37, 4, 1860.00, 'cancelled', '', 0, 'วีรยุทธ ศิริวัฒนานุกูล', '0934944932', 'บ้าน, บางแค, กรุงเทพมหานคร, 10160', '2025-08-23 09:45:41', '2025-08-23 17:00:41', '2025-08-23 10:03:00', 'bank', NULL, NULL, NULL),
(38, 4, 1860.00, 'cancelled', 'unpaid', 0, 'วีรยุทธ ศิริวัฒนานุกูล', '0934944932', 'บ้าน, บางแค, กรุงเทพมหานคร, 10160', '2025-08-24 19:24:11', NULL, '2025-08-24 19:24:22', 'cod', NULL, NULL, NULL),
(39, 4, 1860.00, 'pending', 'unpaid', 0, 'วีรยุทธ ศิริวัฒนานุกูล', '0934944932', 'บ้าน, บางแค, กรุงเทพมหานคร, 10160', '2025-08-24 19:24:43', '2025-08-25 02:39:43', '2025-08-24 19:24:43', 'bank', NULL, NULL, NULL);

-- --------------------------------------------------------

--
-- Table structure for table `order_items`
--

CREATE TABLE `order_items` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `order_id` bigint(20) UNSIGNED NOT NULL,
  `product_id` bigint(20) UNSIGNED NOT NULL,
  `quantity` int(11) NOT NULL,
  `unit_price` decimal(10,2) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `order_items`
--

INSERT INTO `order_items` (`id`, `order_id`, `product_id`, `quantity`, `unit_price`) VALUES
(1, 1, 1, 1, 8790.00),
(2, 2, 1, 1, 8790.00),
(3, 3, 1, 1, 8790.00),
(4, 4, 1, 1, 8790.00),
(5, 5, 1, 1, 8790.00),
(6, 6, 1, 1, 8790.00),
(7, 7, 1, 1, 8790.00),
(8, 8, 1, 1, 8790.00),
(9, 9, 5, 1, 626.00),
(10, 10, 5, 1, 626.00),
(11, 11, 1, 1, 8790.00),
(12, 12, 5, 1, 626.00),
(13, 13, 1, 1, 8790.00),
(14, 14, 5, 1, 626.00),
(15, 15, 1, 1, 8790.00),
(16, 16, 1, 1, 8790.00),
(17, 17, 1, 1, 8790.00),
(18, 18, 1, 1, 8790.00),
(19, 19, 19, 1, 1860.00),
(20, 20, 19, 1, 1860.00),
(21, 21, 19, 1, 1860.00),
(22, 22, 19, 1, 1860.00),
(23, 23, 17, 1, 8495.00),
(24, 24, 17, 1, 8495.00),
(25, 25, 19, 1, 1860.00),
(26, 26, 13, 1, 3900.00),
(28, 28, 19, 1, 1860.00),
(30, 30, 19, 1, 1860.00),
(31, 31, 19, 1, 1860.00),
(33, 33, 16, 1, 6995.00),
(34, 34, 19, 1, 1860.00),
(35, 35, 19, 1, 1860.00),
(36, 36, 19, 1, 1860.00),
(37, 37, 19, 1, 1860.00),
(38, 38, 19, 1, 1860.00),
(39, 39, 19, 1, 1860.00);

-- --------------------------------------------------------

--
-- Table structure for table `products`
--

CREATE TABLE `products` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `category_id` int(10) UNSIGNED DEFAULT NULL,
  `seller_id` bigint(20) UNSIGNED DEFAULT NULL,
  `name` varchar(255) NOT NULL,
  `description` text DEFAULT NULL,
  `price` decimal(10,2) NOT NULL,
  `discount_price` decimal(10,2) DEFAULT NULL,
  `stock` int(11) NOT NULL DEFAULT 0,
  `image` varchar(255) DEFAULT NULL,
  `status` enum('active','inactive') DEFAULT 'active',
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NULL DEFAULT NULL ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `products`
--

INSERT INTO `products` (`id`, `category_id`, `seller_id`, `name`, `description`, `price`, `discount_price`, `stock`, `image`, `status`, `created_at`, `updated_at`) VALUES
(1, 1, NULL, 'เครื่องตัดหญ้าสะพายบ่า TAKARA TK35-4ST 3 แรงม้า', 'เครื่องตัดหญ้าสะพายบ่า TAKARA TK35-4ST 3 แรงม้า\r\nเครื่องตัดหญ้าสะพายบ่า TAKARA มาพร้อมเครื่องยนต์ 4 จังหวะ ประหยัดน้ำมันเชื้อเพลิงได้มากกว่าเครื่องยนต์ 2 จังหวะถึง 40% หัวเกียร์เฟือง 9 ซี่ มาตรฐานสามารถเปลี่ยนใบมีดตัดหญ้าได้ทุกชนิด หรือใส่หัวเอ็นในการตัด ตัวเพลาหมุนได้ 360 องศา สามารถใช้งานได้ทั้งที่ราบ และลาดชัน ใช้เชื้อเพลิงได้ทั้งเบนซิน และแก๊สโซฮอล ที่ค่าออกเทน 91 และ 95 มั่นใจในการใช้งานด้วยการรับประกัน 1 ปี ตามเงื่อนไขกำหนด\r\n\r\nคุณสมบัติ\r\nเครื่องตัดหญ้าแบบสะพายบ่า ลดอาการเมื่อยจากการใช้งานต่อเนื่อง\r\nหัวเกียร์เฟือง 9 ซี่มาตรฐาน สามารถเปลี่ยนใบมีดตัดหญ้าได้ทุกชนิด หรือใส่หัวเอ็นในการตัด\r\nเครื่องยนต์ 4 จังหวะ ประหยัดน้ำมันเชื้อเพลิงได้มากกว่าเครื่องยนต์ 2 จังหวะถึง 40%\r\nกำลังเครื่อง 3 แรงม้า เร่งรอบได้มากถึง 3,800 รอบ ต่อนาที\r\nสำหรับใช้ได้กับน้ำมันเบนซิน หรือแก๊สโซฮอล 91 และ 95\r\nมั่นใจในการใช้งานด้วยการรับประกันสินค้า 1 ปี ตามเงื่อนไขที่กำหนด\r\nวิธีใช้งาน\r\nสำหรับใช้ตัดหญ้าในสนาม เช่น หญ้าญี่ปุ่น, หญ้ามาเลเซีย และหญ้านวลน้อย\r\nควรเคลียร์เศษหิน กิ่งไม้ สายไฟ ออกจากพื้นที่ ก่อนการใช้งาน\r\nคำแนะนำ\r\n- ศึกษาข้อมูลการใช้งานอย่างละเอียด\r\n- เมื่อใช้งานเสร็จควรล้างทำความสะอาด และเช็ดด้วยน้ำมันเพื่อป้องกันสนิม\r\nข้อควรระวัง\r\n- ห้ามดัดแปลง แก้ไขสินค้า หรือนำไปใช้งานผิดประเภท\r\n- ห้ามใช้สารเคมีที่มีฤทธิ์เป็นกรด และด่างทำความสะอาด\r\n- ห้ามใช้งานในพื้นที่ที่มีน้ำท่วมขัง หรือแช่น้ำตลอดเวลา\r\n- ห้ามจัดเก็บใกล้ความร้อน และเปลวไฟ\r\n- ควรจัดเก็บในที่แห้ง และพ้นมือเด็ก', 8790.00, NULL, 12, 'pd_20250822_172456_c00a26ef.jpg', 'active', '2025-08-19 17:10:52', '2025-08-22 10:24:57'),
(5, 2, NULL, 'ใบมีดตัดหญ้า 9 นิ้ว 10000 RPM ใบมีดดิสก์ 14/20 ฟัน สำหรับหัวตัดหญ้า', 'ใบมีดตัดหญ้าขนาด 9 นิ้ว 10000 RPM ใบมีดเลื่อยโซ่เหล็กสำหรับตัดหญ้าหัวตัดหญ้าสำหรับเครื่องตัดหญ้าและกำจัดวัชพืชคุณสมบัติ:\r\n1. ใช้งานง่าย: ตัดแต่งสนามหญ้าและพุ่มไม้ของคุณได้อย่างรวดเร็วและง่ายดายด้วยใบมีดตัดหญ้าของเรา เครื่องมือชิ้นนี้จัดการกับวัสดุใด ๆ ได้อย่างไม่มีปัญหา ทำให้คุณไม่ต้องยุ่งยาก\r\n2. รวดเร็วและมีประสิทธิภาพ: เวลาของคุณมีค่า ใบมีดเลื่อยโซ่ของเราจะทำให้คุณไม่เสียเวลา! มันไม่ทิ้งซากเศษวัสดุไว้และต้องการการทำความสะอาดเพียงเล็กน้อย\r\n3. ฟังก์ชันหลากหลาย: สามารถจัดการกับต้นไม้ขนาดเล็ก พุ่มไม้ พุ่มหญ้า และวัชพืชได้อย่างง่ายดายด้วยเครื่องมือนี้ ฟันเลื่อยโซ่อยู่ระหว่างแผ่นเหล็กอย่างปลอดภัย\r\n4. การใช้งานที่หลากหลาย: หัวตัดหญ้าเหล็กของเราเหมาะสำหรับการตัด การแกะสลัก และการขัดรูปทรง มันทนทาน ใช้งานง่ายและมีการใช้งานที่หลากหลาย!5. ประสิทธิภาพความเร็วสูง: ออกแบบมาพร้อมฟันเลื่อยโซ่ที่สามารถทำความเร็วได้สูงถึง 10,000 RPM ใบมีด 14/20 ฟันนี้มอบพลังการตัดที่ไม่มีใครเทียบได้ ความสามารถในการทำงานที่ความเร็วสูง\r\n5. ประสิทธิภาพความเร็วสูง: ออกแบบด้วยฟันเลื่อยโซ่ที่สามารถทำความเร็วได้ถึง 10,000 RPM ใบมีดแบบ 14/20 ฟันนี้มอบพลังการตัดที่ไม่มีใครเทียบได้ ความสามารถในการทำงานที่ความเร็วสูงช่วยให้การตัดแต่งมีประสิทธิภาพและแม่นยำ ทำให้มันเป็นเครื่องมือที่จำเป็นสำหรับผู้ที่ต้องการรักษาสวนให้สวยงามอย่างง่ายดาย.\r\n\r\nข้อมูลจำเพาะ:วัสดุ: เหล็กกล้าอัลลอยแหล่งที่มา: แผ่นดินใหญ่ของจีนจำนวนฟัน: 20 ฟันขนาดรู: 25.4 มม. (มีวงแหวนลดขนาด, ขนาดรูได้ 20 มม.)ขนาดผลิตภัณฑ์: ประมาณ 230.00x230.00x1.67 มม./9.06x9.06x0.07 นิ้ว', 890.00, 626.00, 3, 'pd_1755776535_a261f43e.png', 'active', '2025-08-21 10:13:48', '2025-08-22 09:41:42'),
(8, 1, NULL, 'เครื่องตัดหญ้าไร้สาย 80 โวลต์ MAKITA รุ่น UR012GZ02', 'รายละเอียดสินค้า\r\n• ใช้ได้กับงานหนักเนื่องจากมีกำลังขับสูง ใกล้เคียงกับเครื่องตัดหญ้ารุ่น 40 มล.\r\n• ที่จับถอดประกอบได้โดยไม่ต้องใช้เครื่องมือช่วยเพื่อการใช้งานที่สะดวกสบายและการจัดเก็บที่กะทัดรัด\r\n• เทคโนโลยีขับเคลื่อนแรงบิดอัตโนมัติ (ADT) ปรับความเร็วและแรงบิดระหว่างการทำงานเพื่อประสิทธิภาพสูงสุด\r\n• เทคโนโลยีการตรวจจับการตอบสนองแบบแอคทีฟ (AFT) จะปิดมอเตอร์หากการหมุนของใบมีดถูกบังคับให้หยุดกะทันหัน\r\n• มอเตอร์ติดท้ายรถทำให้เครื่องมือมีความสมดุลคล้ายกับเครื่องตัดหญ้าเครื่องยนต์\r\n• ตัวเลือกความเร็ว 3 ระดับ (ต่ำ / กลาง / สูง) ช่วยให้ผู้ปฏิบัติงานสามารถจับคู่ความเร็วกับอุปกรณ์เสริมได้อย่างเหมาะสม\r\n• ขนาดแกนหมุน : M10 x 1.25 LH\r\n• ความกว้างในการตัด : ใบตัดโลหะ : 305 มม. (12 นิ้ว)\r\n• ความกว้างในการตัด : ใบเลื่อย TCT : 255 มม. (10 นิ้ว)\r\n• ความกว้างในการตัด : หัวตัดไนลอน : 480 มม. (18-7/8 นิ้ว)\r\n• ความกว้างในการตัด : ใบตัดพลาสติก : 305 มม. (12 นิ้ว)\r\n• ความเร็วรอบตัวเปล่า : ใบตัดโลหะ (3 / 2 / 1) : 0 – 6,800 / 0 – 5,000 / 0 – 3,500 รอบ/นาที\r\n• ความเร็วรอบตัวเปล่า : หัวตัดไนลอน (3 / 2 / 1) : 0 – 5,000 / 0 – 4,200 / 0 – 3,500 รอบ/นาที\r\n• ความเร็วรอบตัวเปล่า : ใบตัดพลาสติก (305 มม.) (3 / 2 / 1) : 0 – 6,800 / 0 – 5,000 / 0 – 3,500 รอบ/นาทีใช้กับแบตเตอรี่ : BL4020 / BL4025 / BL4040 / BL4050F\r\nใช้กับแท่นชาร์จ : DC40RA / DC40RB', 20853.00, NULL, 10, 'pd_20250822_173021_4ceaa634.png', 'active', '2025-08-22 10:30:21', '2025-08-22 10:30:45'),
(9, 1, NULL, 'เครื่องตัดหญ้า 2 จังหวะ MXR-411RB 2HP MAXMA', 'รายละเอียดสินค้า\r\n• เครื่องยนต์ : เบนซิน 2 จังหวะ 1 สูบ\r\n• แรงม้า : 2HP 7,000RPM\r\n• ระบายความร้อนด้วยอากาศ\r\n• ปริมาตรกระบอกสูบ : 41 cc\r\n• ความจุถังน้ำมันเชื้อเพลิง : 1 ลิตร\r\n• น้ำหนัก : 8.5 Kg.\r\n• ระบบคันเร่ง: แบบเหนี่ยวไก มีสวิตซ์ดับเครื่องในตัว\r\n• ใช้น้ำมัน : 0.1 ลิตร/นาที\r\n• ลานสตาร์ท : แบบลานเบาพิเศษ', 4150.00, NULL, 20, 'pd_20250822_173307_a2c75374.png', 'active', '2025-08-22 10:33:07', '2025-08-22 10:33:07'),
(10, 1, NULL, 'เครื่องตัดหญ้า 2 จังหวะ MX-411RB 2HP MAXMA', 'รายละเอียดสินค้า\r\n• แกนตรง : 28 mm.\r\n• เครื่องยนต์เบนซิน : 2 จังหวะ 1 สูบ\r\n• แรงม้า/รอบ : 2HP 7,000RPM\r\n• ระบายความร้อนด้วยอากาศ\r\n• ปริมาตรกระบอกสูบ : 40.2 cc 41 cc\r\n• ความเร็วใบมีด : 5,000-7,000 รอบต่อนาที\r\n• ความจุถังน้ำมัน : 1 ลิตร\r\n• น้ำมันเชื้อเพลิง : (เบนซิน : น้ำมัน 2T) 25:1\r\n• แบบหัว : กันเศษหญ้า\r\n• ระบบคันเร่ง : แบบไกปืน\r\n• การติดเครื่อง : เชือกดึงหมุนกลับ\r\n• แบบด้ามจับ : โค้งรูปตัวY\r\n• เพลา : 9 ฟันมาตรฐาน\r\n• ลานสตาร์ท : ลานเบาแบบพิเศษ', 5100.00, NULL, 9, 'pd_20250822_173412_99fa2ae5.png', 'active', '2025-08-22 10:34:12', '2025-08-22 10:35:34'),
(11, 1, NULL, 'เครื่องตัดหญ้า 4 จังหวะ MX-4UT31 1.2HP MAXMA', 'รายละเอียดสินค้า\r\nกำลังเครื่องยนต์ : 1.5kw 1.2HP\r\nปริมาตรกระบอกสูบ : 31 cc\r\nรอบ/นาที : 7,000 RPM\r\nระบบคาร์บูเรเตอร์ : แบบผ้าปั๊ม\r\nระบบจุดระเบิด : หัวอิเล็กโทรด\r\nความจุถังน้ำมันเชื้อเพลิง : 1.4 ลิตร\r\nระบบสตาร์ทเครื่องยนต์ : เชือกดึงสตาร์ทม้วนกลับอัตโนมัติ\r\nคันเร่งเครื่อง : แบบเหนี่ยวไก สวิทช์ดับเครื่องในตัว\r\nน้ำหนักสินค้า : 11kg\r\nแป๊ปก้าน : 28 mm\r\nเพลา : 9 ฟันมาตรฐาน', 6000.00, NULL, 16, 'pd_20250822_173600_ea3dd6b6.jpg', 'active', '2025-08-22 10:35:17', '2025-08-22 10:36:00'),
(12, 1, NULL, 'เครื่องตัดหญ้า 2 จังหวะ MXR-411RBC 2HP MAXMA', 'รายละเอียดสินค้า\r\n• เครื่องยนต์เบนซิน : 2 จังหวะ 1 สูบ\r\n•แรงม้า : 2HP 7000RPM\r\n• ระบายความร้อนด้วยอากาศ\r\n• ปริมาตรกระบอกสูบ : 41 cc\r\n• ความจุถังน้ำมันเชื้อเพลิง : 1 ลิตร\r\n• น้ำหนัก : 8.5 กก.\r\n• ระบบคันเร่ง : แบบเหนี่ยวไก มีสวิตซ์ดับเครื่องในตัว\r\n• ใช้น้ำมัน : 0.1 ลิตร/นาที\r\n• ลานสตาร์ท แบบลานเบาพิเศษ', 4255.00, NULL, 10, 'pd_20250822_173706_2d54ff47.png', 'active', '2025-08-22 10:37:06', '2025-08-22 10:37:06'),
(13, 1, NULL, 'เครื่องตัดหญ้า 2 จังหวะ MXR-CG260 1HP MAXMA', 'รายละเอียดสินค้า\r\n• เครื่องยนต์เบนซิน : เบนซิน 2 จังหวะ 1 สูบ\r\n• กำลังเครื่องยนต์ : 0.75 kw\r\n• ปริมาตรกระบอกสูบ : 25.4 cc\r\n• ความเร็วใบมีด : 7,500 รอบต่อนาที\r\n• ระบบจุดระเบิด : หัวเทียน\r\n• ความจุถังน้ำมันเชื้อเพลิง : 0.96 ลิตร\r\n• ระบบสตาร์ทเครื่อยนต์ : เชือกดึงสตาร์ทม้วนกลับอัตโนมัติ\r\n• น้ำหนักสินค้า : 7 kg\r\n• แป๊ปก้าน : 26 mm.\r\n• แทนเพลา : 9 ฟันมาตรฐาน', 3900.00, NULL, 18, 'pd_20250822_173817_e298060d.png', 'active', '2025-08-22 10:38:17', '2025-08-22 21:58:22'),
(14, 1, NULL, 'เครื่องตัดหญ้า 4 จังหวะ MXR-4UT31 1.2HP MAXMA', 'รายละเอียดสินค้า\r\nเครื่องยนต์ : เบนซิน 4 จังหวะ 1 สูบ\r\nกำลังเครื่องยนต์ : 1.5kW 1.2HP\r\nปริมาตรกระบอกสูบ : 31 cc\r\nรอบ/นาที : 7,000 RPM\r\nระบบคาร์บูเรเตอร์ : แบบผ้าปั๊ม\r\nระบบจุดระเบิด : หัวเทียนอิเล็กโทรด\r\nความจุถังน้ำมันเชื้อเพลิง : 1.4 ลิตร\r\nระบบสตาร์ทเครื่องยนต์ : เชือกดึงสตาร์ทม้วนกลับอัตโนมัติ\r\nคันเร่งเครื่อง : แบบเหนี่ยวไกมีสวิตซ์ดับเครื่องในตัว\r\nน้ำหนักสินค้า : 11kg', 4995.00, NULL, 7, 'pd_20250822_173935_ebad3d6f.png', 'active', '2025-08-22 10:39:35', '2025-08-22 10:39:35'),
(15, 1, NULL, 'เครื่องเล็มหญ้า แบตเตอรี่ MX-STLI12 MAXMA', 'รายละเอียดสินค้า\r\nกำลังไฟ 450 วัตต์\r\n• 18000 รอบต่อนาที\r\n• ความยาวรวม 95-125 ซม.\r\nแบตเตอรี่ -7000 mAh\r\n• เวลาทำงาน 100 นาที\r\n• เวลาในการชาร์จ 2-3 ชั่วโมง\r\n• ขนาด89x14.7x14.9\r\nอุปกรณ์เสริมฟรี', 2990.00, NULL, 0, 'pd_20250822_174025_d991f065.png', 'active', '2025-08-22 10:40:25', '2025-08-22 10:40:25'),
(16, 1, NULL, 'เครื่องตัดหญ้ารถเข็น 2 จังหวะ MXR-LMG450 MAXMA', 'รายละเอียดสินค้า\r\n• เครื่องยนต์เบนซิน 2 จังหวะ 1 ลูกสูบ\r\n• ปริมาตรกระบอกสูบ 52cc\r\n• เส้นผ่านศูนย์กลางท่อ 26 มิล\r\n• ความเร็วรอบเดินเบา 2,800 RPM\r\n• ความเร็วรอบสูงสุดของใบมีด 9,000 - 10,000 รอบ/นาที(RPM)\r\n• ความจุถังน้ำมันเชื้อเพลิง 1.2 ลิตร \r\n• น้ำมันเชื่อเพลิง (เบนซิน : น้ำมัน 2T) 25:1\r\n• น้ำหนัก 16 kg \r\n• ขนาดบรรจุภัณฑ์ 66x51x35cm', 6995.00, NULL, 6, 'pd_20250822_174109_47c410ea.png', 'active', '2025-08-22 10:41:09', '2025-08-22 10:41:09'),
(17, 1, NULL, 'รถเข็นตัดหญ้า 2 จังหวะ ปุ่มสตาร์ท MXR-BCW ES430 MAXMA', 'รายละเอียดสินค้า\r\n• เครื่องยนต์เบนซิน : 2 จังหวะ 1 ลูกสูบ\r\n• มีระบบ สตาร์ทอัตโนมัติโดยปุ่มกด\r\n• ปริมาตรกระบอกสูบ : 42.7cc\r\n• เส้นผ่านศูนย์กลางท่อ : 26 มิล\r\n• ความเร็วรอบเดินเบา : 2,800 RPM\r\n• ความเร็วรอบสูงสุดของใบมีด : 9,000 - 10,000 รอบ/นาที(RPM)\r\n• ความจุถังน้ำมันเชื้อเพลิง : 1.2 ลิตร\r\n• น้ำมันเชื่อเพลิง (เบนซิน : น้ำมัน 2T) 25:1\r\n• น้ำหนัก : 15 kg\r\n• ขนาดบรรจุภัณฑ์ : 58x47x32cm', 8495.00, NULL, 5, 'pd_20250822_174209_566161dd.png', 'active', '2025-08-22 10:42:09', '2025-08-22 21:27:42'),
(18, 1, NULL, 'NM-411 ตัดหญ้าสะพายข้าง 2 จังหวะ', 'NEW WEST ตัดหญ้าสะพายข้าง 2 จังหวะ NM-411 สีเขียว\r\n\r\nประเทศผู้ผลิต:   China\r\n\r\nการรับประกัน:   -', 4995.00, NULL, 0, 'pd_20250822_174402_c2764063.jpg', 'active', '2025-08-22 10:44:02', '2025-08-22 10:44:02'),
(19, 1, NULL, 'EUROX เครื่องตัดหญ้าไร้สาย 21 โวลต์ รุ่นพับได้ R', 'รายละเอียดสินค้า\r\n- ใบตัดหญ้าผลิตจากพลาสติก PA66 แข็งแรงและคมกริบ\r\n- บังใบขนาดใหญ่เพิ่มความปลอดภัยและสามารถใส่ล้อได้\r\n- ก้านตัดหญ้าสามารถพับได้ พกพาสะดวก และใช้งานง่าย\r\n- มือจับสามารถเลื่อนปรับระดับได้ตามต้องการ มีน้ำหนักเบา\r\n- เหมาะสำหรับใช้งานในครัวเรือนที่สนามหญ้าต้นไม่ใหญ่มาก\r\n- ความเร็วรอบ 8500 รอบ/นาทีและใช้กำลังไฟฟ้า 450 วัตต์\r\n- แบตเตอรี่ 2000 แอมป์และสามารถใช้งานได้ต่อเนื่อง 2 ชม.', 1860.00, NULL, 21, 'pd_20250822_174855_2053b604.png', 'active', '2025-08-22 10:48:55', '2025-08-24 19:24:22');

-- --------------------------------------------------------

--
-- Table structure for table `product_images`
--

CREATE TABLE `product_images` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `product_id` bigint(20) UNSIGNED NOT NULL,
  `filename` varchar(255) NOT NULL,
  `sort_order` int(10) UNSIGNED NOT NULL DEFAULT 0,
  `is_cover` tinyint(1) NOT NULL DEFAULT 0,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `product_images`
--

INSERT INTO `product_images` (`id`, `product_id`, `filename`, `sort_order`, `is_cover`, `created_at`) VALUES
(4, 1, 'pd_20250822_042226_a4e2d975.png', 0, 0, '2025-08-22 02:22:26'),
(7, 1, 'pd_20250822_172456_c00a26ef.jpg', 0, 1, '2025-08-22 10:24:56'),
(9, 8, 'pd_20250822_173021_1f715c44.png', 0, 0, '2025-08-22 10:30:21'),
(10, 8, 'pd_20250822_173021_d97d08bb.png', 0, 0, '2025-08-22 10:30:21'),
(11, 8, 'pd_20250822_173021_0833e436.png', 0, 0, '2025-08-22 10:30:21'),
(12, 8, 'pd_20250822_173021_4ceaa634.png', 0, 1, '2025-08-22 10:30:21'),
(13, 8, 'pd_20250822_173058_a91b7ce5.png', 0, 0, '2025-08-22 10:30:58'),
(14, 9, 'pd_20250822_173307_a2c75374.png', 0, 1, '2025-08-22 10:33:07'),
(15, 10, 'pd_20250822_173412_99fa2ae5.png', 0, 1, '2025-08-22 10:34:12'),
(16, 11, 'pd_20250822_173600_ea3dd6b6.jpg', 0, 1, '2025-08-22 10:36:00'),
(17, 12, 'pd_20250822_173706_2d54ff47.png', 0, 1, '2025-08-22 10:37:06'),
(18, 13, 'pd_20250822_173817_e298060d.png', 0, 1, '2025-08-22 10:38:17'),
(19, 13, 'pd_20250822_173817_8a3951cb.jpg', 0, 0, '2025-08-22 10:38:17'),
(20, 14, 'pd_20250822_173935_ebad3d6f.png', 0, 1, '2025-08-22 10:39:35'),
(21, 15, 'pd_20250822_174025_d991f065.png', 0, 1, '2025-08-22 10:40:25'),
(22, 16, 'pd_20250822_174109_47c410ea.png', 0, 1, '2025-08-22 10:41:09'),
(23, 17, 'pd_20250822_174209_566161dd.png', 0, 1, '2025-08-22 10:42:09'),
(24, 18, 'pd_20250822_174402_c2764063.jpg', 0, 1, '2025-08-22 10:44:02'),
(25, 19, 'pd_20250822_174855_ead0d2b7.png', 0, 0, '2025-08-22 10:48:55'),
(26, 19, 'pd_20250822_174855_03b3eb99.png', 0, 0, '2025-08-22 10:48:55'),
(27, 19, 'pd_20250822_174855_12cd7bd2.png', 0, 0, '2025-08-22 10:48:55'),
(28, 19, 'pd_20250822_174855_e6543ed4.png', 0, 0, '2025-08-22 10:48:55'),
(29, 19, 'pd_20250822_174855_0c1ba25a.png', 0, 0, '2025-08-22 10:48:55'),
(30, 19, 'pd_20250822_174855_2053b604.png', 0, 1, '2025-08-22 10:48:55'),
(31, 19, 'pd_20250822_174855_c36d2ea9.png', 0, 0, '2025-08-22 10:48:55');

-- --------------------------------------------------------

--
-- Table structure for table `product_reviews`
--

CREATE TABLE `product_reviews` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `product_id` bigint(20) UNSIGNED NOT NULL,
  `user_id` bigint(20) UNSIGNED NOT NULL,
  `rating` tinyint(3) UNSIGNED NOT NULL,
  `content` text NOT NULL,
  `parent_id` bigint(20) UNSIGNED DEFAULT NULL,
  `is_admin` tinyint(1) NOT NULL DEFAULT 0,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NULL DEFAULT NULL ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `product_reviews`
--

INSERT INTO `product_reviews` (`id`, `product_id`, `user_id`, `rating`, `content`, `parent_id`, `is_admin`, `created_at`, `updated_at`) VALUES
(4, 19, 4, 5, 'สินค้ามีคุณภาพมาก ส่งไว', NULL, 0, '2025-08-22 19:31:09', '2025-08-22 21:29:37'),
(5, 19, 3, 0, 'ขอบคุณครับ', 4, 1, '2025-08-22 19:31:33', NULL);

-- --------------------------------------------------------

--
-- Table structure for table `service_status_logs`
--

CREATE TABLE `service_status_logs` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `ticket_id` bigint(20) UNSIGNED NOT NULL,
  `status` varchar(50) NOT NULL,
  `note` varchar(255) DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `service_tickets`
--

CREATE TABLE `service_tickets` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `user_id` bigint(20) UNSIGNED NOT NULL,
  `device_type` varchar(100) DEFAULT NULL,
  `brand` varchar(100) DEFAULT NULL,
  `model` varchar(100) DEFAULT NULL,
  `urgency` enum('normal','urgent') DEFAULT 'normal',
  `issue` text DEFAULT NULL,
  `line_id` varchar(100) DEFAULT NULL,
  `phone` varchar(30) DEFAULT NULL,
  `desired_date` date DEFAULT NULL,
  `image_path` varchar(255) DEFAULT NULL,
  `status` enum('queued','diagnose','pricing','repairing','done','returned','cancelled') DEFAULT 'queued',
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NULL DEFAULT NULL ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `support_messages`
--

CREATE TABLE `support_messages` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `sender` enum('user','admin') NOT NULL,
  `admin_id` int(11) DEFAULT NULL,
  `message` text NOT NULL,
  `is_read_by_user` tinyint(1) NOT NULL DEFAULT 0,
  `is_read_by_admin` tinyint(1) NOT NULL DEFAULT 0,
  `created_at` datetime NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `support_threads`
--

CREATE TABLE `support_threads` (
  `user_id` int(11) NOT NULL,
  `status` enum('open','closed') NOT NULL DEFAULT 'open',
  `closed_at` datetime DEFAULT NULL,
  `closed_by` enum('user','admin') DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `tradein_requests`
--

CREATE TABLE `tradein_requests` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `user_id` bigint(20) UNSIGNED NOT NULL,
  `device_type` varchar(100) DEFAULT NULL,
  `brand` varchar(100) DEFAULT NULL,
  `model` varchar(100) DEFAULT NULL,
  `device_condition` enum('working','no_power','broken_part') DEFAULT 'working',
  `need` enum('buy_new','discount') DEFAULT 'buy_new',
  `image_path` varchar(255) DEFAULT NULL,
  `status` enum('submitted','review','offered','accepted','rejected','cancelled') DEFAULT 'submitted',
  `offer_price` decimal(10,2) DEFAULT NULL,
  `selected_product_id` bigint(20) UNSIGNED DEFAULT NULL,
  `order_id` bigint(20) UNSIGNED DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NULL DEFAULT NULL ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `tradein_status_logs`
--

CREATE TABLE `tradein_status_logs` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `request_id` bigint(20) UNSIGNED NOT NULL,
  `status` varchar(50) NOT NULL,
  `note` varchar(255) DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `username` varchar(100) NOT NULL,
  `email` varchar(255) NOT NULL,
  `password_hash` varchar(255) NOT NULL,
  `role` enum('user','seller','admin') DEFAULT 'user',
  `phone` varchar(30) DEFAULT NULL,
  `address` text DEFAULT NULL,
  `profile_pic` varchar(255) DEFAULT NULL,
  `is_active` tinyint(1) NOT NULL DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NULL DEFAULT NULL ON UPDATE current_timestamp(),
  `full_name` varchar(150) DEFAULT NULL,
  `avatar` varchar(255) DEFAULT NULL,
  `address_line1` varchar(255) DEFAULT NULL,
  `address_line2` varchar(255) DEFAULT NULL,
  `district` varchar(120) DEFAULT NULL,
  `province` varchar(120) DEFAULT NULL,
  `postcode` varchar(12) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`id`, `username`, `email`, `password_hash`, `role`, `phone`, `address`, `profile_pic`, `is_active`, `created_at`, `updated_at`, `full_name`, `avatar`, `address_line1`, `address_line2`, `district`, `province`, `postcode`) VALUES
(3, 'admin', 'test@gmail.com', '$2y$10$lTCTupdf0tWtcpSYebJ.3OmAvOP.XNvGmjD0cQ57uRYXQEfc9hTn.', 'admin', NULL, NULL, NULL, 1, '2025-08-19 18:44:05', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(4, 'user', 'test1@gmail.com', '$2y$10$//mlVomn6qgFywE4ljuEt.nuBNd2mr2Y1pjGG4EII6QOkhSGX6tWW', 'user', '0934944932', NULL, NULL, 1, '2025-08-19 19:55:52', '2025-08-22 14:07:32', 'วีรยุทธ ศิริวัฒนานุกูล', 'uploads/avatars/u4_1755871652_55efaa.jpg', 'บ้าน', '', 'บางแค', 'กรุงเทพมหานคร', '10160'),
(5, 'user1', 'test2@gmail.com', '$2y$10$RdgznaZCoWGUKF5OGR9sVeYoSwtxZ9kqb56OhHv8nUkn3scsOsILS', 'user', NULL, NULL, NULL, 1, '2025-08-23 11:05:05', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);

-- --------------------------------------------------------

--
-- Table structure for table `user_addresses`
--

CREATE TABLE `user_addresses` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `user_id` bigint(20) UNSIGNED NOT NULL,
  `full_name` varchar(150) DEFAULT NULL,
  `phone` varchar(30) DEFAULT NULL,
  `address_line1` varchar(255) DEFAULT NULL,
  `address_line2` varchar(255) DEFAULT NULL,
  `district` varchar(120) DEFAULT NULL,
  `province` varchar(120) DEFAULT NULL,
  `postcode` varchar(12) DEFAULT NULL,
  `is_default` tinyint(1) NOT NULL DEFAULT 0,
  `created_at` timestamp NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NULL DEFAULT NULL ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Structure for view `cart`
--
DROP TABLE IF EXISTS `cart`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `cart`  AS SELECT `cart_items`.`id` AS `id`, `cart_items`.`user_id` AS `user_id`, `cart_items`.`product_id` AS `product_id`, `cart_items`.`quantity` AS `quantity`, `cart_items`.`created_at` AS `created_at` FROM `cart_items` ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `cart_items`
--
ALTER TABLE `cart_items`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `uq_cart_user_product` (`user_id`,`product_id`),
  ADD UNIQUE KEY `uniq_user_product` (`user_id`,`product_id`),
  ADD KEY `idx_cart_product` (`product_id`);

--
-- Indexes for table `categories`
--
ALTER TABLE `categories`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `uq_categories_slug` (`slug`);

--
-- Indexes for table `notifications`
--
ALTER TABLE `notifications`
  ADD PRIMARY KEY (`id`),
  ADD KEY `user_id` (`user_id`),
  ADD KEY `is_read` (`is_read`),
  ADD KEY `type` (`type`),
  ADD KEY `created_at` (`created_at`);

--
-- Indexes for table `orders`
--
ALTER TABLE `orders`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_orders_user` (`user_id`);

--
-- Indexes for table `order_items`
--
ALTER TABLE `order_items`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_order_items_order` (`order_id`),
  ADD KEY `idx_order_items_product` (`product_id`);

--
-- Indexes for table `products`
--
ALTER TABLE `products`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_products_category` (`category_id`),
  ADD KEY `idx_products_seller` (`seller_id`);
ALTER TABLE `products` ADD FULLTEXT KEY `ft_products_name_desc` (`name`,`description`);

--
-- Indexes for table `product_images`
--
ALTER TABLE `product_images`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_product_id` (`product_id`);

--
-- Indexes for table `product_reviews`
--
ALTER TABLE `product_reviews`
  ADD PRIMARY KEY (`id`),
  ADD KEY `product_id` (`product_id`),
  ADD KEY `parent_id` (`parent_id`),
  ADD KEY `user_id` (`user_id`);

--
-- Indexes for table `service_status_logs`
--
ALTER TABLE `service_status_logs`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_service_log_ticket` (`ticket_id`);

--
-- Indexes for table `service_tickets`
--
ALTER TABLE `service_tickets`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_service_user` (`user_id`);

--
-- Indexes for table `support_messages`
--
ALTER TABLE `support_messages`
  ADD PRIMARY KEY (`id`),
  ADD KEY `user_id` (`user_id`,`created_at`),
  ADD KEY `sender` (`sender`),
  ADD KEY `is_read_by_admin` (`is_read_by_admin`),
  ADD KEY `is_read_by_user` (`is_read_by_user`);

--
-- Indexes for table `support_threads`
--
ALTER TABLE `support_threads`
  ADD PRIMARY KEY (`user_id`);

--
-- Indexes for table `tradein_requests`
--
ALTER TABLE `tradein_requests`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_tradein_user` (`user_id`),
  ADD KEY `idx_tradein_order` (`order_id`),
  ADD KEY `fk_tradein_selected_product` (`selected_product_id`);

--
-- Indexes for table `tradein_status_logs`
--
ALTER TABLE `tradein_status_logs`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_tradein_log_request` (`request_id`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `uq_users_username` (`username`),
  ADD UNIQUE KEY `uq_users_email` (`email`);

--
-- Indexes for table `user_addresses`
--
ALTER TABLE `user_addresses`
  ADD PRIMARY KEY (`id`),
  ADD KEY `fk_user_addresses_user` (`user_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `cart_items`
--
ALTER TABLE `cart_items`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=102;

--
-- AUTO_INCREMENT for table `categories`
--
ALTER TABLE `categories`
  MODIFY `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT for table `notifications`
--
ALTER TABLE `notifications`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=121;

--
-- AUTO_INCREMENT for table `orders`
--
ALTER TABLE `orders`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=40;

--
-- AUTO_INCREMENT for table `order_items`
--
ALTER TABLE `order_items`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=40;

--
-- AUTO_INCREMENT for table `products`
--
ALTER TABLE `products`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=20;

--
-- AUTO_INCREMENT for table `product_images`
--
ALTER TABLE `product_images`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=32;

--
-- AUTO_INCREMENT for table `product_reviews`
--
ALTER TABLE `product_reviews`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;

--
-- AUTO_INCREMENT for table `service_status_logs`
--
ALTER TABLE `service_status_logs`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `service_tickets`
--
ALTER TABLE `service_tickets`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `support_messages`
--
ALTER TABLE `support_messages`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=14;

--
-- AUTO_INCREMENT for table `tradein_requests`
--
ALTER TABLE `tradein_requests`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `tradein_status_logs`
--
ALTER TABLE `tradein_status_logs`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;

--
-- AUTO_INCREMENT for table `user_addresses`
--
ALTER TABLE `user_addresses`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `cart_items`
--
ALTER TABLE `cart_items`
  ADD CONSTRAINT `fk_cart_product` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_cart_user` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `orders`
--
ALTER TABLE `orders`
  ADD CONSTRAINT `fk_orders_user` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON UPDATE CASCADE;

--
-- Constraints for table `order_items`
--
ALTER TABLE `order_items`
  ADD CONSTRAINT `fk_items_order` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_items_product` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`) ON UPDATE CASCADE;

--
-- Constraints for table `products`
--
ALTER TABLE `products`
  ADD CONSTRAINT `fk_products_category` FOREIGN KEY (`category_id`) REFERENCES `categories` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_products_seller` FOREIGN KEY (`seller_id`) REFERENCES `users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `product_images`
--
ALTER TABLE `product_images`
  ADD CONSTRAINT `fk_product_images_product` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `product_reviews`
--
ALTER TABLE `product_reviews`
  ADD CONSTRAINT `product_reviews_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `product_reviews_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `product_reviews_ibfk_3` FOREIGN KEY (`parent_id`) REFERENCES `product_reviews` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `service_status_logs`
--
ALTER TABLE `service_status_logs`
  ADD CONSTRAINT `fk_service_log_ticket` FOREIGN KEY (`ticket_id`) REFERENCES `service_tickets` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `service_tickets`
--
ALTER TABLE `service_tickets`
  ADD CONSTRAINT `fk_service_user` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `tradein_requests`
--
ALTER TABLE `tradein_requests`
  ADD CONSTRAINT `fk_tradein_order` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_tradein_selected_product` FOREIGN KEY (`selected_product_id`) REFERENCES `products` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_tradein_user` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `tradein_status_logs`
--
ALTER TABLE `tradein_status_logs`
  ADD CONSTRAINT `fk_tradein_log_request` FOREIGN KEY (`request_id`) REFERENCES `tradein_requests` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `user_addresses`
--
ALTER TABLE `user_addresses`
  ADD CONSTRAINT `fk_user_addresses_user` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
